<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.67">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <title>桂花算法文档 | osmanthus 桂花算法</title><meta name="description" content="Find and automatically format time text from the string 一款高性能、兼容性强、支持全球多语种的时间文本格式化工具">
    <link rel="modulepreload" href="/osmanthus.github.io/assets/app-c838d3fa.js"><link rel="modulepreload" href="/osmanthus.github.io/assets/index.html-a1cd0e09.js"><link rel="modulepreload" href="/osmanthus.github.io/assets/index.html-d70a3442.js"><link rel="prefetch" href="/osmanthus.github.io/assets/index.html-0a05feab.js" as="script"><link rel="prefetch" href="/osmanthus.github.io/assets/index.html-8c2edf06.js" as="script"><link rel="prefetch" href="/osmanthus.github.io/assets/index.html-4b3ba946.js" as="script"><link rel="prefetch" href="/osmanthus.github.io/assets/index.html-3a4e5e48.js" as="script"><link rel="prefetch" href="/osmanthus.github.io/assets/index.html-6cf06f14.js" as="script"><link rel="prefetch" href="/osmanthus.github.io/assets/index.html-11c424eb.js" as="script"><link rel="prefetch" href="/osmanthus.github.io/assets/guide.html-a823d7a9.js" as="script"><link rel="prefetch" href="/osmanthus.github.io/assets/index.html-e3265990.js" as="script"><link rel="prefetch" href="/osmanthus.github.io/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/osmanthus.github.io/assets/index.html-3d5bb041.js" as="script"><link rel="prefetch" href="/osmanthus.github.io/assets/index.html-538017d2.js" as="script"><link rel="prefetch" href="/osmanthus.github.io/assets/index.html-a845e7b7.js" as="script"><link rel="prefetch" href="/osmanthus.github.io/assets/index.html-c0dff7aa.js" as="script"><link rel="prefetch" href="/osmanthus.github.io/assets/index.html-3b9a5863.js" as="script"><link rel="prefetch" href="/osmanthus.github.io/assets/index.html-af14337b.js" as="script"><link rel="prefetch" href="/osmanthus.github.io/assets/guide.html-f5cc2320.js" as="script"><link rel="prefetch" href="/osmanthus.github.io/assets/index.html-9aff3ed5.js" as="script"><link rel="prefetch" href="/osmanthus.github.io/assets/404.html-6bcf3eab.js" as="script"><link rel="prefetch" href="/osmanthus.github.io/assets/reco-valine-a195b6e9.js" as="script"><link rel="prefetch" href="/osmanthus.github.io/assets/giscus-2a044aea-497f0bd4.js" as="script">
    <link rel="preload" href="/osmanthus.github.io/assets/style-2ff7c37d.css" as="style"><link rel="stylesheet" href="/osmanthus.github.io/assets/style-2ff7c37d.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><div class="common-wrapper series--no show-catalog"><header class="navbar-container" style="top:0;"><div class="site-brand nav-item"><!----><a href="/osmanthus.github.io/" class="site-name">osmanthus 桂花算法</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/osmanthus.github.io/" class="link router-link-active" aria-label="Home"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Home<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="documents"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->documents<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="documents"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->documents<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/osmanthus.github.io/docs/en/index.html" class="link" aria-label="en docs"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->en docs<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/osmanthus.github.io/docs/zh/index.html" class="link" aria-label="中文文档"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->中文文档<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><span class="xicon-container btn-toggle-dark-mode btn--dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg></span><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></header><!----><div class="mobile-menus-container"><nav class="navbar-links mobile"><!--[--><div class="navbar-links__item"><a href="/osmanthus.github.io/" class="link router-link-active" aria-label="Home"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Home<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="documents"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->documents<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="documents"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->documents<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/osmanthus.github.io/docs/en/index.html" class="link" aria-label="en docs"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->en docs<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/osmanthus.github.io/docs/zh/index.html" class="link" aria-label="中文文档"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->中文文档<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><div class="appearance"><span>Appearance</span><span class="xicon-container btn-toggle-dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg></span></div></div><div class="series-mask"></div><aside class="series-container"><div class="site-brand"><!----><a href="/osmanthus.github.io/" class="site-name">osmanthus 桂花算法</a></div><!--[--><!--]--></aside><!--[--><main class="page-container"><h1 class="page-title">桂花算法文档</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ziiyoo<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2023/11/01<!--]--></span></span><!----><!----><!----></div><div class="theme-reco-default-content"><div><p><strong>osmanthus</strong> 中文名称为<strong>桂花算法</strong>，看名字你就知道它有多香</p><p>它是一款<strong>超高性能</strong>且支持<strong>多语种</strong>的<strong>时间文本自动格式化</strong>工具库，可广泛用于新闻舆情、招投标、数据清洗等情景。</p><p>这份文档描述了<strong>桂花算法</strong>详细的使用方法、强悍的解析性能、离谱的兼容性、全球化的语种和时区支持、在线体验、其他编程语言支持、测试用例和有趣的创造故事。</p><p>它支持 4+1 种类型的时间文本解析与自动格式化</p><ol class="contains-task-list"><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> 绝对时间｜例如<code>2013年july18 10:03下午</code></li><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> 相对时间｜例如<code>3小时前</code>、<code>2 minutes ago</code></li><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> 时间戳｜例如<code>1685025365</code>、<code>1663025361000</code></li><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> 连续文字｜例如<code>https://seaxii.com/20210315/img/2035.png</code></li><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> 自动模式丨自动模式其实是算法默认按照 <strong>时间戳</strong>&gt;<strong>相对时间</strong>&gt;<strong>绝对时间</strong>&gt;<strong>连续时间</strong> 的顺序来依次尝试的，只要其中任何 1 种识别到，就将结果返回。</li></ol><blockquote><p>当你不知道时间文本到底是那种类型，或者你想让算法自己识别的情况下推荐使用自动模式</p></blockquote><h3 id="性能与兼容性" tabindex="-1"><a class="header-anchor" href="#性能与兼容性" aria-hidden="true">#</a> 性能与兼容性</h3><p><a href="#" target="_blank"><img src="https://img.shields.io/badge/性能-强的不像话-blue"></a></p><p>单次解析耗时仅为<strong>微秒(µs)<strong>甚至是</strong>纳秒(ns)</strong>，并且具有<strong>极其优秀的兼容性</strong>，而且就算输入字符串中存在杂乱的噪声符号和不相关的其他文字，它也能够准确识别和格式化正确的时间文本。</p><blockquote><p>解析耗时请参考下方性能测试结果</p></blockquote><h2 id="快速开始" tabindex="-1"><a class="header-anchor" href="#快速开始" aria-hidden="true">#</a> 快速开始</h2><p><a href="#" target="_blank"><img src="https://img.shields.io/badge/Language-Rust-origin"></a></p><h3 id="_1-安装-in-rust" tabindex="-1"><a class="header-anchor" href="#_1-安装-in-rust" aria-hidden="true">#</a> 1.安装 In Rust</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token function">cargo</span> <span class="token function">add</span> osmanthus
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-使用方法" tabindex="-1"><a class="header-anchor" href="#_2-使用方法" aria-hidden="true">#</a> 2.使用方法</h3><p>以下列出几种不同类型的时间文本解析示例，更多示例可参考 <strong>benches</strong> 和 <strong>examples</strong> 中的示例代码。</p><h4 id="_2-1-绝对时间-absolute" tabindex="-1"><a class="header-anchor" href="#_2-1-绝对时间-absolute" aria-hidden="true">#</a> 2.1 绝对时间 Absolute</h4><div class="language-rust line-numbers-mode" data-ext="rs"><pre class="language-rust"><code><span class="token keyword">use</span> <span class="token namespace">osmanthus<span class="token punctuation">::</span></span>parse_absolute<span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">osmanthus<span class="token punctuation">::</span>bind<span class="token punctuation">::</span></span><span class="token class-name">Param</span><span class="token punctuation">;</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> samples <span class="token operator">=</span> <span class="token macro property">vec!</span><span class="token punctuation">[</span>
        <span class="token string">&quot;3/08/2023 | 11:51&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 2023-08-03 11:51:00</span>
        <span class="token string">&quot;aug 06 .2023 10h42&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 2023-08-06 10:42:00&quot;</span>
        <span class="token string">&quot;2013年12月8号 pm 3:00&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 2013-12-08 15:00:00</span>
        <span class="token string">&quot;26 ก.ค. 2566 08:00 น.&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 2023-07-26 08:00:00</span>
        <span class="token string">&quot;2014年04月08日11时25分18秒 下午&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 2014-04-08 23:25:18</span>
        <span class="token string">&quot;2023-02-05 10:03:37 pm cst&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;2023-07-30T14:12:51+02:00&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> sample <span class="token keyword">in</span> samples<span class="token punctuation">{</span>
        <span class="token keyword">let</span> r <span class="token operator">=</span><span class="token function">parse_absolute</span><span class="token punctuation">(</span>sample<span class="token punctuation">,</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token class-name">Param</span><span class="token punctuation">{</span>strict<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token punctuation">..</span><span class="token class-name">Default</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> datetime <span class="token operator">=</span> r<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>local<span class="token punctuation">.</span>datetime<span class="token punctuation">;</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;absolute time text parse result: {:?}, status: {}&quot;</span><span class="token punctuation">,</span> datetime<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2-相对时间-relative" tabindex="-1"><a class="header-anchor" href="#_2-2-相对时间-relative" aria-hidden="true">#</a> 2.2 相对时间 Relative</h4><div class="language-rust line-numbers-mode" data-ext="rs"><pre class="language-rust"><code><span class="token keyword">use</span> <span class="token namespace">osmanthus<span class="token punctuation">::</span></span>parse_relative<span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">osmanthus<span class="token punctuation">::</span>bind<span class="token punctuation">::</span></span><span class="token class-name">Param</span><span class="token punctuation">;</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> samples <span class="token operator">=</span> <span class="token macro property">vec!</span><span class="token punctuation">[</span>
        <span class="token string">&quot;发布于 - /n6小時前,&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 6 hours ago</span>
        <span class="token string">&quot;（ 시간: 3분 전）&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 3 minute ago</span>
        <span class="token string">&quot;- about / 2 minutes ago&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 2 minutes ago</span>
        <span class="token string">&quot;30天前 来源：新华网&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 30 days ago</span>
        <span class="token string">&quot;publish 5 second ago.&quot;</span> <span class="token comment">// 5 second ago.</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> sample <span class="token keyword">in</span> samples<span class="token punctuation">{</span>
        <span class="token keyword">let</span> r <span class="token operator">=</span><span class="token function">parse_relative</span><span class="token punctuation">(</span>sample<span class="token punctuation">,</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token class-name">Param</span><span class="token punctuation">{</span>strict<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token punctuation">..</span><span class="token class-name">Default</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> datetime <span class="token operator">=</span> r<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>local<span class="token punctuation">.</span>datetime<span class="token punctuation">;</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;relative time text parse result: {:?}, status: {}&quot;</span><span class="token punctuation">,</span> datetime<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3-时间戳-timestamp" tabindex="-1"><a class="header-anchor" href="#_2-3-时间戳-timestamp" aria-hidden="true">#</a> 2.3 时间戳 Timestamp</h4><div class="language-rust line-numbers-mode" data-ext="rs"><pre class="language-rust"><code><span class="token keyword">use</span> <span class="token namespace">osmanthus<span class="token punctuation">::</span></span>parse_timestamp<span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">osmanthus<span class="token punctuation">::</span>bind<span class="token punctuation">::</span></span><span class="token class-name">Param</span><span class="token punctuation">;</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> samples <span class="token operator">=</span> <span class="token macro property">vec!</span><span class="token punctuation">[</span>
        <span class="token string">&quot;1677380340&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// success</span>
        <span class="token string">&quot;1677380340236982058745&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// parse fail</span>
        <span class="token string">&quot;16773803abc&quot;</span><span class="token punctuation">,</span>   <span class="token comment">// parse fail</span>
        <span class="token string">&quot;你好，中国&quot;</span><span class="token punctuation">,</span>   <span class="token comment">// parse fail</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> sample <span class="token keyword">in</span> samples<span class="token punctuation">{</span>
        <span class="token keyword">let</span> r <span class="token operator">=</span><span class="token function">parse_timestamp</span><span class="token punctuation">(</span>sample<span class="token punctuation">,</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token class-name">Param</span><span class="token punctuation">{</span>strict<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token punctuation">..</span><span class="token class-name">Default</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> datetime <span class="token operator">=</span> r<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>local<span class="token punctuation">.</span>datetime<span class="token punctuation">;</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;timestamp time text parse result: {:?}, status: {}&quot;</span><span class="token punctuation">,</span> datetime<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-4-连续时间-series" tabindex="-1"><a class="header-anchor" href="#_2-4-连续时间-series" aria-hidden="true">#</a> 2.4 连续时间 Series</h4><div class="language-rust line-numbers-mode" data-ext="rs"><pre class="language-rust"><code><span class="token keyword">use</span> <span class="token namespace">osmanthus<span class="token punctuation">::</span></span>parse_series<span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">osmanthus<span class="token punctuation">::</span>bind<span class="token punctuation">::</span></span><span class="token class-name">Param</span><span class="token punctuation">;</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> samples <span class="token operator">=</span> <span class="token macro property">vec!</span><span class="token punctuation">[</span>
        <span class="token string">&quot;https://www.kingname.info/2022/JULY309/this20350205-is-gnelist/&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 2022-07-30 00:00:00&quot;</span>
        <span class="token string">&quot;H_502_5@2010oct03 @H_502_5@2012/07/26.doc&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 2010-10-03 00:00:00</span>
        <span class="token string">&quot;https://new.qq.com/rain/a/k09381120221126A03W2R00&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 2022-11-26 00:00:00</span>
        <span class="token string">&quot;/202211/W02022110720101102590.jpg&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 2022-11-07 00:00:00</span>
        <span class="token string">&quot;http://cjrb.cjn.cn/html/2023-01/16/content_250826.htm&quot;</span> <span class="token comment">// 2023-01-16 00:00:00</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> sample <span class="token keyword">in</span> samples<span class="token punctuation">{</span>
        <span class="token keyword">let</span> r <span class="token operator">=</span><span class="token function">parse_series</span><span class="token punctuation">(</span>sample<span class="token punctuation">,</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token class-name">Param</span><span class="token punctuation">{</span>strict<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token punctuation">..</span><span class="token class-name">Default</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> datetime <span class="token operator">=</span> r<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>local<span class="token punctuation">.</span>datetime<span class="token punctuation">;</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;series time text parse result: {:?}, status: {}&quot;</span><span class="token punctuation">,</span> datetime<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-5-自动模式" tabindex="-1"><a class="header-anchor" href="#_2-5-自动模式" aria-hidden="true">#</a> 2.5 自动模式</h4><p>当你不知道时间文本到底是那种类型，或者你想让算法自己识别的情况下推荐使用自动模式</p><p>自动模式其实是算法默认按照 <strong>时间戳</strong>&gt;<strong>相对时间</strong>&gt;<strong>绝对时间</strong>&gt;<strong>连续时间</strong> 的顺序来依次尝试的，只要其中任何 1 种识别到，就将结果返回。</p><div class="language-rust line-numbers-mode" data-ext="rs"><pre class="language-rust"><code><span class="token keyword">use</span> <span class="token namespace">osmanthus<span class="token punctuation">::</span></span>parse<span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">osmanthus<span class="token punctuation">::</span>bind<span class="token punctuation">::</span></span><span class="token class-name">Param</span><span class="token punctuation">;</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> samples <span class="token operator">=</span> <span class="token macro property">vec!</span><span class="token punctuation">[</span>
        <span class="token string">&quot;https://www.kingname.info/2022/JULY309/this20350205-is-gnelist/&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// series, 2022-07-30 00:00:00&quot;</span>
        <span class="token string">&quot;3/08/2023 | 11:51&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// absolute, 2023-08-03 11:51:00</span>
        <span class="token string">&quot;发布于 - /n6小時前,&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// relative, 6 hours ago</span>
        <span class="token string">&quot;/202211/W02022110720101102590.jpg&quot;</span><span class="token punctuation">,</span> <span class="token comment">// series, 2022-11-07 00:00:00</span>
        <span class="token string">&quot;1677380340&quot;</span> <span class="token comment">// timestamp, 2023-02-26 10:59:00</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> sample <span class="token keyword">in</span> samples<span class="token punctuation">{</span>
        <span class="token keyword">let</span> r <span class="token operator">=</span><span class="token function">parse</span><span class="token punctuation">(</span>sample<span class="token punctuation">,</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token class-name">Param</span><span class="token punctuation">{</span>strict<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token punctuation">..</span><span class="token class-name">Default</span><span class="token punctuation">::</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> datetime <span class="token operator">=</span> r<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>local<span class="token punctuation">.</span>datetime<span class="token punctuation">;</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;time text  parse result: {:?}, status: {}&quot;</span><span class="token punctuation">,</span> datetime<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-参数和解析结果" tabindex="-1"><a class="header-anchor" href="#_3-参数和解析结果" aria-hidden="true">#</a> 3.参数和解析结果</h3><p>调用 osmanthus 时可以传递多个参数，这些参数将会影响最终的输出结果，因此你有必要了解这些参数的细节和它们有可能造成的影响。</p><p>因为要支持全球多个时区，而且还要满足不同地区人群的使用，所以解析结果也进行了兼容性处理。</p><h4 id="_3-1参数" tabindex="-1"><a class="header-anchor" href="#_3-1参数" aria-hidden="true">#</a> 3.1参数</h4><p>在设计 osmanthus 时，我限定它使用统一的函数签名</p><div class="language-rust line-numbers-mode" data-ext="rs"><pre class="language-rust"><code><span class="token keyword">fn</span> <span class="token function-definition function">parse</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">str</span><span class="token punctuation">,</span> options<span class="token punctuation">:</span> <span class="token class-name">Option</span><span class="token operator">&lt;</span><span class="token class-name">Param</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">Result</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>由此可知，调用 osmanthus 的任何一个解析函数时，都需要传递 2 个参数，<code>text</code> 和 <code>options</code></p><h5 id="none" tabindex="-1"><a class="header-anchor" href="#none" aria-hidden="true">#</a> None</h5><p>其中 <code>options</code> 参数的类型为 <code>Option&lt;Param&gt;</code> 意味着它是可选的，如果你什么都不想传，就使用 <code>None</code></p><div class="language-rust line-numbers-mode" data-ext="rs"><pre class="language-rust"><code><span class="token keyword">use</span> <span class="token namespace">osmanthus<span class="token punctuation">::</span></span>parse<span class="token punctuation">;</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;july,10,2023 15:02:11 PM&quot;</span><span class="token punctuation">,</span> <span class="token class-name">None</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;res: {:?}, status: {}&quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>local<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span>status<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// res: &quot;2023-07-10 15:02:11&quot;, status: true </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="param" tabindex="-1"><a class="header-anchor" href="#param" aria-hidden="true">#</a> Param</h4><p>上面演示了不传递 <code>Option&lt;Param&gt;</code>，接下来我们看看什么时候需要传递这个参数和具体值的作用。先看 <code>Param</code> 结构体的签名</p><div class="language-rust line-numbers-mode" data-ext="rs"><pre class="language-rust"><code><span class="token keyword">pub</span> <span class="token keyword">struct</span> <span class="token type-definition class-name">Param</span><span class="token punctuation">{</span>
    <span class="token keyword">pub</span> era<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token comment">// 纪元年份</span>
    <span class="token keyword">pub</span> timezone<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>  <span class="token comment">// 时区</span>
    <span class="token keyword">pub</span> strict<span class="token punctuation">:</span> <span class="token keyword">bool</span>  <span class="token comment">// 严格模式</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>共有 3 个字段 <code>era</code>, <code>timezone</code> 和 <code>strict</code>，对应的含义和作用如下：</p><ul><li>era: 表示纪元年份，例如日本的<code>平成</code>、<code>明治</code>、<code>令和</code>等等。当<strong>指定</strong>纪元年份或者<strong>字符串中包含</strong>特定的纪元年份的时候，osmanthus 会自动计算对应的年份时间，确保解析到的年份是正确的，例如<code>令和3年</code>对应的年份是<code>2021年</code></li><li>timezone: 表示时区，最后的结算结果跟设置的时区相关。假设一个时间字符串对应的 <code>utc</code> 时间是 <code>2023-08-12 15:00:00</code>，但是如果你设置 timezone 为 <code>aest</code> 那么解析后的<code>utc</code>时间为<code>2023-08-12 05:00:00</code>，因为 <code>utc = aest - 36000 seconds</code>。</li><li>strict: 表示严格模式，关于严格模式下方有说明，这里<strong>强调</strong>一下。在新闻舆情场景中，有个普遍的需求是识别新闻发布的时间。这里有个需要注意的地方，新闻发布的时间不可能比当地的当前时间更靠后，一定是靠前的。即假设当前时间是 <code>2023-10-10 10:00:05</code>，那采集到的新闻的发布时间一定比当前时间早，不可能是几小时后或者几天后才发布的。严格模式下，桂花算法会判定时间文本是否比当前时间的值更大，如果更大则跳过当前可疑文本，去识别下一段可疑文本。</li></ul><h4 id="_3-2结果" tabindex="-1"><a class="header-anchor" href="#_3-2结果" aria-hidden="true">#</a> 3.2结果</h4><p>要满足不同地区、不同时区的人群使用，所以解析结果也进行了兼容性处理，提供了多种时间结果。先看 <code>Result</code> 相关的几个结构体的签名</p><div class="language-rust line-numbers-mode" data-ext="rs"><pre class="language-rust"><code><span class="token keyword">pub</span> <span class="token keyword">struct</span> <span class="token type-definition class-name">Result</span><span class="token punctuation">{</span>
    <span class="token keyword">pub</span> status<span class="token punctuation">:</span> <span class="token keyword">bool</span><span class="token punctuation">,</span>
    <span class="token keyword">pub</span> method<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
    <span class="token keyword">pub</span> time<span class="token punctuation">:</span> <span class="token class-name">NaiveDateTime</span><span class="token punctuation">,</span>
    <span class="token keyword">pub</span> datetime<span class="token punctuation">:</span> <span class="token class-name">DateTime</span><span class="token punctuation">,</span>
    <span class="token keyword">pub</span> timezone<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">pub</span> <span class="token keyword">struct</span> <span class="token type-definition class-name">DateTime</span><span class="token punctuation">{</span>
    <span class="token keyword">pub</span> local<span class="token punctuation">:</span> <span class="token class-name">Item</span><span class="token punctuation">,</span>
    <span class="token keyword">pub</span> timezone<span class="token punctuation">:</span> <span class="token class-name">Item</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">pub</span> <span class="token keyword">struct</span> <span class="token type-definition class-name">Item</span><span class="token punctuation">{</span>
    <span class="token keyword">pub</span> datetime<span class="token punctuation">:</span> <span class="token class-name">NaiveDateTime</span><span class="token punctuation">,</span>
    <span class="token keyword">pub</span> timestamp<span class="token punctuation">:</span> <span class="token keyword">i64</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>也就是说，当你使用 osmanthus 格式化字符串中的时间文本时，得到的结果不是一个字符串也不是一个时间戳数字，而是一个<strong>包含更多信息的答案</strong>。</p><ul><li>status：当值为<code>true</code>时代表算法从传入的字符串种识别到有效的时间文本并顺利将其格式化，这里的<strong>有效时间文本</strong>指的是满足<strong>年月日</strong>格式的时间文本，正确的例子如<code>2023-10-22</code>、<code>july,2021,02 15:00</code>等，不正确的例子如<code>july,2023 15:00</code>和<code>15:06:30</code>。也就是说，时间文本字符串中<strong>必须</strong>同时满足<strong>年月日</strong>格式，否则 <code>status is false</code>；</li><li>tiemzone：时区，这里的时区要么是你调用函数时传入的时区名称，要么是程序自动识别到的时区名称，也有可能是空字符串，方便在一些场景下做后续处理；</li><li>method：模式的名称，程序用哪种模式识别到的，就会返回哪个模式的名称，例如<code>absolute</code>、<code>relative</code>、<code>timestamp</code>或者<code>series</code>；</li><li>time: 将传入的文本直接格式化为时间，不附加任何时区信息</li><li>datetime: 将时间分为本地时间和附加了指定时区属性的时间 <ul><li>datetime.local <ul><li>datetime.local.datetime: 附加了本地时区的时间，根据运行环境获取当前环境的时区，将<code>time</code>转换为本地时区对应的时间</li><li>datetime.local.timestamp: 对应的时间戳数值</li></ul></li><li>datetime.timezone <ul><li>datetime.timezone.datetime: 附加了<code>utc</code>时区的时间，根据运传入的时区或者运行时识别到的时区，将<code>time</code>转换为<code>utc</code>时区对应的时间</li><li>datetime.timezone.timestamp: 对应的时间戳数值</li></ul></li></ul></li></ul><p><strong>有点乱了是吗？</strong></p><p>你可能会问，直接返回一个时间不好吗，为什么选择返回<code>time</code>、<code>datetime.local.datetime</code>和<code>datetime.timezone.datetime</code>这 3 种时间呢？</p><p>这样做的目的是为了后续可能存在的处理做准备，如果你只是想将字符串格式化为本地时间，那么取值的时候取 <code>datetime.local.datetime</code> 即可，你并不需要关心另外 2 种时间。</p><p><strong>我们来看一个特殊的场景</strong></p><ul><li>假设你是在一家全球性的新闻媒体公司工作</li><li>你身在美国纽约</li><li>但是处理新闻数据的服务器在中国上海</li><li>时间文本的中的时间的显示是澳大利亚东部标准时间(AEST)</li><li>要求在你的数据库中记录不同的时间</li></ul><p>这种跨时区或者跨国场景让情况变得复杂，服务器跟你所处的时区不同，那么就不是一个简单的<code>local time</code>能够满足需求的，而且文本中的时区跟服务器和你所处的时区又不同。</p><p>如果你只有<code>time</code>，那么你需要自己计算美国纽约时区、上海时区和 AEST 时区的差值，每次转换需要至少 2 个步骤，然后存储到数据库。</p><p>现在，osmanthus 为你提供了上海时区和<code>utc</code>时区，你想要转换为任何时区的时间都变得简单，转换 1 次只需要 1 个步骤。</p><h2 id="性能" tabindex="-1"><a class="header-anchor" href="#性能" aria-hidden="true">#</a> 性能</h2><p>osmanthus 的性能测试使用的是<strong>Criterion</strong>，具体的测试代码可到 <strong>benches</strong> 查看</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>/// 测试机 Mac Stucio 
/// 芯片 Apple M1 Max 
/// 内存 32GB
/// 系统 MacOS <span class="token number">14.0</span>

parse_timestamp benchmark result:
                        time:   <span class="token punctuation">[</span><span class="token number">302.51</span> ns <span class="token number">302.98</span> ns <span class="token number">303.49</span> ns<span class="token punctuation">]</span>
                        change: <span class="token punctuation">[</span>+0.3496% +0.6413% +0.9291%<span class="token punctuation">]</span> <span class="token punctuation">(</span>p <span class="token operator">=</span> <span class="token number">0.00</span> <span class="token operator">&lt;</span> <span class="token number">0.05</span><span class="token punctuation">)</span>
                        Change within noise threshold.
Found <span class="token number">3</span> outliers among <span class="token number">100</span> measurements <span class="token punctuation">(</span><span class="token number">3.00</span>%<span class="token punctuation">)</span>
  <span class="token number">1</span> <span class="token punctuation">(</span><span class="token number">1.00</span>%<span class="token punctuation">)</span> high mild
  <span class="token number">2</span> <span class="token punctuation">(</span><span class="token number">2.00</span>%<span class="token punctuation">)</span> high severe

parse_series benchmark result:
                        time:   <span class="token punctuation">[</span><span class="token number">24.324</span> µs <span class="token number">24.363</span> µs <span class="token number">24.407</span> µs<span class="token punctuation">]</span>
                        change: <span class="token punctuation">[</span>-0.3387% +0.1293% +0.5512%<span class="token punctuation">]</span> <span class="token punctuation">(</span>p <span class="token operator">=</span> <span class="token number">0.58</span> <span class="token operator">&gt;</span> <span class="token number">0.05</span><span class="token punctuation">)</span>
                        No change <span class="token keyword">in</span> performance detected.

parse_relative benchmark result:
                        time:   <span class="token punctuation">[</span><span class="token number">525.93</span> µs <span class="token number">529.13</span> µs <span class="token number">533.43</span> µs<span class="token punctuation">]</span>
                        change: <span class="token punctuation">[</span>+0.4510% +1.0907% +1.8495%<span class="token punctuation">]</span> <span class="token punctuation">(</span>p <span class="token operator">=</span> <span class="token number">0.00</span> <span class="token operator">&lt;</span> <span class="token number">0.05</span><span class="token punctuation">)</span>
                        Change within noise threshold.
Found <span class="token number">6</span> outliers among <span class="token number">100</span> measurements <span class="token punctuation">(</span><span class="token number">6.00</span>%<span class="token punctuation">)</span>
  <span class="token number">3</span> <span class="token punctuation">(</span><span class="token number">3.00</span>%<span class="token punctuation">)</span> high mild
  <span class="token number">3</span> <span class="token punctuation">(</span><span class="token number">3.00</span>%<span class="token punctuation">)</span> high severe

parse_absolute benchmark result:
                        time:   <span class="token punctuation">[</span><span class="token number">45.841</span> µs <span class="token number">45.966</span> µs <span class="token number">46.114</span> µs<span class="token punctuation">]</span>
                        change: <span class="token punctuation">[</span>+0.6914% +1.0410% +1.4468%<span class="token punctuation">]</span> <span class="token punctuation">(</span>p <span class="token operator">=</span> <span class="token number">0.00</span> <span class="token operator">&lt;</span> <span class="token number">0.05</span><span class="token punctuation">)</span>
                        Change within noise threshold.
Found <span class="token number">9</span> outliers among <span class="token number">100</span> measurements <span class="token punctuation">(</span><span class="token number">9.00</span>%<span class="token punctuation">)</span>
  <span class="token number">6</span> <span class="token punctuation">(</span><span class="token number">6.00</span>%<span class="token punctuation">)</span> high mild
  <span class="token number">3</span> <span class="token punctuation">(</span><span class="token number">3.00</span>%<span class="token punctuation">)</span> high severe

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过性能测试对比可以得出，<strong>桂花算法</strong>的解析速度遥遥领先。</p><h2 id="兼容性" tabindex="-1"><a class="header-anchor" href="#兼容性" aria-hidden="true">#</a> 兼容性</h2><p><strong>桂花算法</strong>的解析倾向是<strong>尽可能多</strong>、<strong>尽可能准</strong>地去识别和解析时间文本，因此对那些夹杂着各式各样噪声的文本进行了清洗。</p><h3 id="噪声处理" tabindex="-1"><a class="header-anchor" href="#噪声处理" aria-hidden="true">#</a> 噪声处理</h3><p>无论噪声是汉字、字母、数字、标点符号或者说是其它语言，都难不倒桂花算法。</p><p>具体的兼容性案例可查看 <strong>benches</strong> 和 <strong>example</strong> 相关代码，同时也欢迎大家提供更多的测试样本。</p><h3 id="时区" tabindex="-1"><a class="header-anchor" href="#时区" aria-hidden="true">#</a> 时区</h3><p><a href="#" target="_blank"><img src="https://img.shields.io/badge/时区-自动计算-pink"></a></p><p>既然支持全球化，那么时区自然也是要考虑的。目前桂花算法支持了 390 种不同时区的自动计算和 UTC 时间转换，包含常见的例如 <code>CST</code>、<code>MST</code>、<code>BST</code>、<code>HAST</code>等</p><p>详细名单请查看 <a href="https://github.com/ziiyoo/osmantuhs/blob/main/TIMEZONE.md" target="_blank" rel="noopener noreferrer">TIMEZONE LIST 时区支持名单<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>在以上支持名单中的时区，桂花算法在处理时会自动识别并计算出正确的时间，在解析结果中提供当前运行环境所属时区的时间和 UTC 时间，方便大家根据自己的业务和地区进行转换。</p><h3 id="时间顺序" tabindex="-1"><a class="header-anchor" href="#时间顺序" aria-hidden="true">#</a> 时间顺序</h3><p><a href="#" target="_blank"><img src="https://img.shields.io/badge/时间顺序-自动切换-brown"></a></p><p>全球各个地方的时间顺序是不一致的，常见的有<strong>年月日</strong>、<strong>日月年</strong>、<strong>月日年</strong>，算法会根据时间文本的内容和出现顺序自动转换，例如</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">2013.05</span>/12 -<span class="token operator">&gt;</span> <span class="token number">2013</span>-05-12 00:00:00  // 顺序正确直接解析
<span class="token number">2013.05</span>/july <span class="token number">15</span>:00 -<span class="token operator">&gt;</span> <span class="token number">2013</span>-07-05 <span class="token number">15</span>:00:00 // 月份是确定的｜调整顺序
05,06,2021 <span class="token number">13</span>:00 -<span class="token operator">&gt;</span> <span class="token number">2021</span>-06-05 <span class="token number">13</span>:00  // 月份不确定但是这种写法通常是日月年｜调整顺序
05,13,2021 <span class="token number">13</span>:00 -<span class="token operator">&gt;</span> <span class="token number">2021</span>-05-13 <span class="token number">13</span>:00  // 月份不可能大于 <span class="token number">12</span>｜顺序其实是确定的
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="严格模式" tabindex="-1"><a class="header-anchor" href="#严格模式" aria-hidden="true">#</a> 严格模式</h3><p><a href="#" target="_blank"><img src="https://img.shields.io/badge/严格模式-支持-yellow"></a></p><p>在新闻舆情场景中，有个普遍的需求是识别新闻发布的时间。这里有个需要注意的地方，新闻发布的时间不可能比当地的当前时间更靠后，一定是靠前的。即假设当前时间是 <code>2023-10-10 10:00:05</code>，那采集到的新闻的发布时间一定比当前时间早，不可能是几小时后或者几天后才发布的。</p><p>严格模式下，算法会判定时间文本是否比当前时间的值更大，如果更大则跳过当前可疑文本，去识别下一段可疑文本。</p><h2 id="全球化多语种" tabindex="-1"><a class="header-anchor" href="#全球化多语种" aria-hidden="true">#</a> 全球化多语种</h2><p><a href="#" target="_blank"><img src="https://img.shields.io/badge/多语种-全球多个地区-origin"></a></p><p>作者是一名创业者，主要工作是全球新闻数据的采集和解析，因此时间文本的识别和解析必须满足<strong>全球化</strong>的需求。无论是汉语、俄语、日语、德语、法语、英语、韩语、孟加拉语、越南语还是全球其他几十种语种，均已支持</p><p>不过受限于本人语言水平，一些比较&quot;本地化&quot;的表述方法覆盖能力不强，例如俄语的&quot;不久前&quot;、德语的&quot;刚才&quot;等文字。</p><p><strong>欢迎大家提供更多、更准确、更地道的测试样本。</strong></p><h2 id="可能存在的缺陷" tabindex="-1"><a class="header-anchor" href="#可能存在的缺陷" aria-hidden="true">#</a> 可能存在的缺陷</h2><ol><li><strong>兼容性太强导致准确度下降</strong>，即容易错判，例如<code>12 batch 2021.05. 13 2023page</code>这段字符串，正确的解析结果应该是<code>2021-05-13 00:00:00</code>,但实际上解析出来是<code>2021-12-05 00:00:00</code>。不过如果用其他库进行解析，很有可能解析失败、解析不到任何有效时间文本。</li><li>待补充</li></ol><h2 id="其他编程语言支持" tabindex="-1"><a class="header-anchor" href="#其他编程语言支持" aria-hidden="true">#</a> 其他编程语言支持</h2><blockquote><p>待支持...</p></blockquote><h2 id="测试与用例" tabindex="-1"><a class="header-anchor" href="#测试与用例" aria-hidden="true">#</a> 测试与用例</h2><p>我们人工收集整理了全球五大洲各个国家或地区的时间文本，加上人为构造，得到了<strong>几十种</strong>、共 <strong>700</strong> 多个时间样本。涵盖了<strong>不同时区</strong>、<strong>不同语种</strong>、<strong>不同纪元表达</strong>等，一下仅仅给出<strong>小部分样本</strong>作为参考</p><div class="language-azure line-numbers-mode" data-ext="azure"><pre class="language-azure"><code>&quot;令和3年12月7日&quot; - 日本的纪元表达
&quot;26 ก.ค. 2566 08:00 น.&quot; - 泰国的泰历纪元表达
&quot;2013-05-06T11:30:22+02:00&quot; - 基于 UTC 时间偏移量的时区表达
&quot;September 17, 2012 at 10:09am PST&quot; - 明确的时区表达
&quot;29/10/2020 10h38 Pm&quot; - 小时缩写法
&quot; 4 Αυγούστου 2023, 00:01 &quot; - 不同语种
&quot;H_502_5@2010oct03 @H_502_5@2012/07/26.doc&quot; - 长文本与噪声
&quot;发布于 - /n6小時前,&quot; - 短文本与噪声
... ...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>完整的测试用例<strong>只开放给开发组</strong>。如果你考虑将 桂花算法应用到你的工程中，但因为这里没提供测试样本而担忧它的解析能力，可以<strong>自行准备足够的样本进行测试</strong>，也可以联系创作者协助测试。</p><h2 id="创造故事" tabindex="-1"><a class="header-anchor" href="#创造故事" aria-hidden="true">#</a> 创造故事</h2><p><a href="#" target="_blank"><img src="https://img.shields.io/badge/持续进步-冲鸭-blue"></a></p><p>桂花算法是从我们团队商业项目中抽离出来的。</p><p>我们团队主线业务是全球新闻数据采集，一方面提供实时数据给一些舆情或者数据科技公司用于分析，一方面为 NLP 方向的 Ai 公司提供长文本训练语料。</p><p>新闻解析中很重要的一个元素就是发布时间，常规则正则表达式和一些第三方库难以满足全球化的解析需求。</p><h4 id="浅浅尝试" tabindex="-1"><a class="header-anchor" href="#浅浅尝试" aria-hidden="true">#</a> 浅浅尝试</h4><p>在 Python 领域，dateparser 几乎是使用范围最广的时间文本格式化工具库。我们也用过一段时间，但在使用中发现它的兼容性不强，在一定的噪声干扰下解析能力直线下降。</p><p>后来考虑基于深度学习做分类和计算，分类能力比较接近需求，但是格式化和兼容性完全不受控制，非常离谱。</p><p>在这样的场景和情况下，我决定设计开发一款新的时间文本解析程序，这就是桂花算法。</p><h4 id="设计与参考" tabindex="-1"><a class="header-anchor" href="#设计与参考" aria-hidden="true">#</a> 设计与参考</h4><p>桂花算法在设计前和设计的过程中参考了 dateparser 的一些文本处理方式和方法，比如预设正则、文本降噪、时区提取、分类处理等。</p><p><strong>不要以为这是抄的</strong>，实际上 dateparser 的处理方法远远不够，要不然 <strong>osmanthus</strong> 不仅变成了 Rust 版本的 dateparser，解析能力上也不会有进步。</p><p>我们设计了几种全新的处理逻辑，在保持解析能力的情况下大幅度增强了兼容性和正确性。自动计算时区时间、滑动窗口、自动切换时间顺序、严格模式等设计让<strong>桂花算法</strong>的解析能力遥遥领先</p><h4 id="为什么开源" tabindex="-1"><a class="header-anchor" href="#为什么开源" aria-hidden="true">#</a> 为什么开源</h4><ul><li>目前市面上没有能力和兼容性与之相当的开源工具，创造它是为了解决我们商业数据上的技术短板，开源则是为了让其他人不要像我们当时一样挠头。</li><li>开源可以更好地促进桂花算法发展，收集更多的样本、得到更多的反馈、持续优化以得到更高的性能和更高的准确率。</li><li>开源是向外界展示我们技术能力的一个方式。</li></ul><blockquote><p>持续进步，冲鸭 ... ...</p></blockquote></div></div><footer class="page-meta"><div class="meta-item edit-link"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M2 26h28v2H2z" fill="currentColor"></path><path d="M25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Edit this page<!--]--></span></span></div><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Last Updated 2023/11/1 22:21:00<!--]--></span></span></div></footer><!----><!----></main><!--]--><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/osmanthus.github.io/docs/zh/#性能与兼容性" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="性能与兼容性"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->性能与兼容性<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/osmanthus.github.io/docs/zh/#快速开始" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="快速开始"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->快速开始<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/osmanthus.github.io/docs/zh/#_1-安装-in-rust" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="1.安装 In Rust"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->1.安装 In Rust<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/osmanthus.github.io/docs/zh/#_2-使用方法" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="2.使用方法"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2.使用方法<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/osmanthus.github.io/docs/zh/#_3-参数和解析结果" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="3.参数和解析结果"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->3.参数和解析结果<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/osmanthus.github.io/docs/zh/#性能" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="性能"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->性能<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/osmanthus.github.io/docs/zh/#兼容性" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="兼容性"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->兼容性<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/osmanthus.github.io/docs/zh/#噪声处理" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="噪声处理"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->噪声处理<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/osmanthus.github.io/docs/zh/#时区" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="时区"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->时区<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/osmanthus.github.io/docs/zh/#时间顺序" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="时间顺序"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->时间顺序<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/osmanthus.github.io/docs/zh/#严格模式" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="严格模式"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->严格模式<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/osmanthus.github.io/docs/zh/#全球化多语种" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="全球化多语种"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->全球化多语种<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/osmanthus.github.io/docs/zh/#可能存在的缺陷" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="可能存在的缺陷"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->可能存在的缺陷<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/osmanthus.github.io/docs/zh/#其他编程语言支持" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="其他编程语言支持"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->其他编程语言支持<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/osmanthus.github.io/docs/zh/#测试与用例" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="测试与用例"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->测试与用例<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/osmanthus.github.io/docs/zh/#创造故事" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="创造故事"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->创造故事<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--></ul></div></div></div><!----><!----><!--]--></div>
    <script type="module" src="/osmanthus.github.io/assets/app-c838d3fa.js" defer></script>
  </body>
</html>
